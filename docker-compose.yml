services:
  backend:
    build: 
      context: ./backend
    container_name: saralsambidhan-backend
    ports:
      - "8000:8000"
    env_file:
      - ./backend/.env.example
    volumes:
      - ./backend/faiss_index:/app/faiss_index  # Persists your vector database
      - ./backend/resources:/app/resources      # Accessible PDF storage
    restart: always

  frontend:
    build: 
      context: ./frontend
    container_name: saralsambidhan-frontend
    ports:
      - "80:80"
    depends_on:
      - backend
    restart: always

networks:
  default:
    name: saralsambidhan-network